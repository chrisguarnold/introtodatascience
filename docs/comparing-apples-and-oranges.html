<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Comparing Apples and Oranges | PL 9239 Introduction to Data Science for Politics and IR</title>
  <meta name="description" content="This is the website for the Intro to Data Science Class." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Comparing Apples and Oranges | PL 9239 Introduction to Data Science for Politics and IR" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the website for the Intro to Data Science Class." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Comparing Apples and Oranges | PL 9239 Introduction to Data Science for Politics and IR" />
  
  <meta name="twitter:description" content="This is the website for the Intro to Data Science Class." />
  

<meta name="author" content="Christian Arnold, Cardiff University" />


<meta name="date" content="2022-03-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="are-different-people-different.html"/>
<link rel="next" href="the-fundamental-problem-of-causal-inference.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<p class="verticalhorizontal" style="text-align:center;">
<img src="logo.jpg" height="80">
</p>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#data-to-answer-your-questions"><i class="fa fa-check"></i>Data to Answer Your Questions</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#your-weekly-data-workout"><i class="fa fa-check"></i>Your Weekly Data Workout</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#work-through-this-homepage"><i class="fa fa-check"></i>1 Work Through This Homepage</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#apply-your-knowledge-in-our-workshops"><i class="fa fa-check"></i>2 Apply Your Knowledge in Our Workshops</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#bring-your-questions-to-the-seminars"><i class="fa fa-check"></i>3 Bring Your Questions to the Seminars</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#read-guideance-on-planning-and-structuring"><i class="fa fa-check"></i>4 Read Guideance on Planning and Structuring</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#the-module-webpage"><i class="fa fa-check"></i>The Module Webpage</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#getting-in-touch"><i class="fa fa-check"></i>Getting in Touch</a></li>
</ul></li>
<li class="part"><span><b>Scenario I: The Data Report</b></span></li>
<li class="chapter" data-level="1" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html"><i class="fa fa-check"></i><b>1</b> Tools for Working with Data</a>
<ul>
<li class="chapter" data-level="1.1" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#what-is-in-a-data-spreadsheet"><i class="fa fa-check"></i><b>1.1</b> What Is In a Data Spreadsheet?</a></li>
<li class="chapter" data-level="1.2" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#key-concepts"><i class="fa fa-check"></i><b>1.2</b> Key Concepts</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#what-is-a-statistic"><i class="fa fa-check"></i><b>1.2.1</b> What is a Statistic?</a></li>
<li class="chapter" data-level="1.2.2" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#some-more-definitions"><i class="fa fa-check"></i><b>1.2.2</b> Some More Definitions</a></li>
<li class="chapter" data-level="1.2.3" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#types-of-data"><i class="fa fa-check"></i><b>1.2.3</b> Types of Data</a></li>
<li class="chapter" data-level="1.2.4" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#data-in-action"><i class="fa fa-check"></i><b>1.2.4</b> Data in Action</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#meet-r"><i class="fa fa-check"></i><b>1.3</b> Meet: R</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#install-r"><i class="fa fa-check"></i><b>1.3.1</b> Install R</a></li>
<li class="chapter" data-level="1.3.2" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#install-r-studio"><i class="fa fa-check"></i><b>1.3.2</b> Install R Studio</a></li>
<li class="chapter" data-level="1.3.3" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#how-to-work-with-r"><i class="fa fa-check"></i><b>1.3.3</b> How to Work with R</a></li>
<li class="chapter" data-level="1.3.4" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#first-steps-in-r"><i class="fa fa-check"></i><b>1.3.4</b> First Steps in R</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="tools-for-working-with-data.html"><a href="tools-for-working-with-data.html#readings-for-this-week"><i class="fa fa-check"></i><b>1.4</b> Readings for This Week</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="describing-data.html"><a href="describing-data.html"><i class="fa fa-check"></i><b>2</b> Describing Data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="describing-data.html"><a href="describing-data.html#statistics-to-summarise-data"><i class="fa fa-check"></i><b>2.1</b> Statistics to Summarise Data</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="describing-data.html"><a href="describing-data.html#tables"><i class="fa fa-check"></i><b>2.1.1</b> Tables</a></li>
<li class="chapter" data-level="2.1.2" data-path="describing-data.html"><a href="describing-data.html#central-tendencies"><i class="fa fa-check"></i><b>2.1.2</b> Central Tendencies</a></li>
<li class="chapter" data-level="2.1.3" data-path="describing-data.html"><a href="describing-data.html#spread"><i class="fa fa-check"></i><b>2.1.3</b> Spread</a></li>
<li class="chapter" data-level="2.1.4" data-path="describing-data.html"><a href="describing-data.html#ratios-and-rates"><i class="fa fa-check"></i><b>2.1.4</b> Ratios and Rates</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="describing-data.html"><a href="describing-data.html#data-management-with-r"><i class="fa fa-check"></i><b>2.2</b> Data Management with R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="describing-data.html"><a href="describing-data.html#libraries"><i class="fa fa-check"></i><b>2.2.1</b> Libraries</a></li>
<li class="chapter" data-level="2.2.2" data-path="describing-data.html"><a href="describing-data.html#setting-the-working-directory"><i class="fa fa-check"></i><b>2.2.2</b> Setting the Working Directory</a></li>
<li class="chapter" data-level="2.2.3" data-path="describing-data.html"><a href="describing-data.html#reading-data"><i class="fa fa-check"></i><b>2.2.3</b> Reading Data</a></li>
<li class="chapter" data-level="2.2.4" data-path="describing-data.html"><a href="describing-data.html#saving-data"><i class="fa fa-check"></i><b>2.2.4</b> Saving Data</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="describing-data.html"><a href="describing-data.html#describing-data-using-r"><i class="fa fa-check"></i><b>2.3</b> Describing Data Using R</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="describing-data.html"><a href="describing-data.html#working-with-data-frames"><i class="fa fa-check"></i><b>2.3.1</b> Working with Data Frames</a></li>
<li class="chapter" data-level="2.3.2" data-path="describing-data.html"><a href="describing-data.html#central-tendencies-1"><i class="fa fa-check"></i><b>2.3.2</b> Central Tendencies</a></li>
<li class="chapter" data-level="2.3.3" data-path="describing-data.html"><a href="describing-data.html#spread-1"><i class="fa fa-check"></i><b>2.3.3</b> Spread</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="describing-data.html"><a href="describing-data.html#readings-for-this-week-1"><i class="fa fa-check"></i><b>2.4</b> Readings for This Week</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="visualising-data.html"><a href="visualising-data.html"><i class="fa fa-check"></i><b>3</b> Visualising Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="visualising-data.html"><a href="visualising-data.html#communicating-with-data-effectively"><i class="fa fa-check"></i><b>3.1</b> Communicating with Data Effectively</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="visualising-data.html"><a href="visualising-data.html#thinking-about-your-data-visualisation"><i class="fa fa-check"></i><b>3.1.1</b> Thinking About your Data Visualisation</a></li>
<li class="chapter" data-level="3.1.2" data-path="visualising-data.html"><a href="visualising-data.html#visualising-the-data"><i class="fa fa-check"></i><b>3.1.2</b> Visualising ‘The Data’</a></li>
<li class="chapter" data-level="3.1.3" data-path="visualising-data.html"><a href="visualising-data.html#visualising-typical-values-and-spreads"><i class="fa fa-check"></i><b>3.1.3</b> Visualising Typical Values and Spreads</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="visualising-data.html"><a href="visualising-data.html#plotting-data-with-r"><i class="fa fa-check"></i><b>3.2</b> Plotting Data with R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="visualising-data.html"><a href="visualising-data.html#basics-in-plotting"><i class="fa fa-check"></i><b>3.2.1</b> Basics in Plotting</a></li>
<li class="chapter" data-level="3.2.2" data-path="visualising-data.html"><a href="visualising-data.html#colours"><i class="fa fa-check"></i><b>3.2.2</b> Colours</a></li>
<li class="chapter" data-level="3.2.3" data-path="visualising-data.html"><a href="visualising-data.html#visualising-nominal-and-ordinal-data"><i class="fa fa-check"></i><b>3.2.3</b> Visualising Nominal and Ordinal Data</a></li>
<li class="chapter" data-level="3.2.4" data-path="visualising-data.html"><a href="visualising-data.html#visualising-continuous-data"><i class="fa fa-check"></i><b>3.2.4</b> Visualising Continuous Data</a></li>
<li class="chapter" data-level="3.2.5" data-path="visualising-data.html"><a href="visualising-data.html#boxplots"><i class="fa fa-check"></i><b>3.2.5</b> Boxplots</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="visualising-data.html"><a href="visualising-data.html#readings-for-this-week-2"><i class="fa fa-check"></i><b>3.3</b> Readings for This Week</a></li>
</ul></li>
<li class="part"><span><b>Scenario II: Knowing It All By Knowing A Few</b></span></li>
<li class="chapter" data-level="4" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html"><i class="fa fa-check"></i><b>4</b> Testing a Hypothesis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#generating-good-hypotheses"><i class="fa fa-check"></i><b>4.1</b> Generating Good Hypotheses</a></li>
<li class="chapter" data-level="4.2" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#studying-our-sample"><i class="fa fa-check"></i><b>4.2</b> Studying Our Sample</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#investigating-the-hypothesis"><i class="fa fa-check"></i><b>4.2.1</b> Investigating the Hypothesis</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#is-what-we-see-just-coincidence"><i class="fa fa-check"></i><b>4.3</b> Is What We See Just Coincidence?</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#are-two-cohorts-the-same"><i class="fa fa-check"></i><b>4.3.1</b> Are Two Cohorts the Same?</a></li>
<li class="chapter" data-level="4.3.2" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#how-can-we-tell-the-difference"><i class="fa fa-check"></i><b>4.3.2</b> How Can We Tell the Difference?</a></li>
<li class="chapter" data-level="4.3.3" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#hypothesis-testing"><i class="fa fa-check"></i><b>4.3.3</b> Hypothesis Testing</a></li>
<li class="chapter" data-level="4.3.4" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#test-test-test"><i class="fa fa-check"></i><b>4.3.4</b> Test! Test! Test!</a></li>
<li class="chapter" data-level="4.3.5" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#type-1-and-type-2-errors"><i class="fa fa-check"></i><b>4.3.5</b> Type 1 and Type 2 Errors</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#coding"><i class="fa fa-check"></i><b>4.4</b> Coding</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#data-management"><i class="fa fa-check"></i><b>4.4.1</b> Data Management</a></li>
<li class="chapter" data-level="4.4.2" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#hypothesis-testing-1"><i class="fa fa-check"></i><b>4.4.2</b> Hypothesis Testing</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="testing-a-hypothesis.html"><a href="testing-a-hypothesis.html#reading-for-this-week"><i class="fa fa-check"></i><b>4.5</b> Reading for This Week</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html"><i class="fa fa-check"></i><b>5</b> Why Does Hypothesis Testing Work? A Primer on Probability</a>
<ul>
<li class="chapter" data-level="5.1" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#distributions"><i class="fa fa-check"></i><b>5.1</b> Distributions</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#probability"><i class="fa fa-check"></i><b>5.1.1</b> Probability</a></li>
<li class="chapter" data-level="5.1.2" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#distribution"><i class="fa fa-check"></i><b>5.1.2</b> Distribution</a></li>
<li class="chapter" data-level="5.1.3" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#the-normal-distribution"><i class="fa fa-check"></i><b>5.1.3</b> The Normal Distribution</a></li>
<li class="chapter" data-level="5.1.4" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#your-standard-measure-z-scores"><i class="fa fa-check"></i><b>5.1.4</b> Your Standard Measure z-scores</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#inference"><i class="fa fa-check"></i><b>5.2</b> Inference</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#some-key-concepts"><i class="fa fa-check"></i><b>5.2.1</b> Some Key Concepts</a></li>
<li class="chapter" data-level="5.2.2" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#population-and-samples"><i class="fa fa-check"></i><b>5.2.2</b> Population and Samples</a></li>
<li class="chapter" data-level="5.2.3" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#the-central-limit-theorem"><i class="fa fa-check"></i><b>5.2.3</b> The Central Limit Theorem</a></li>
<li class="chapter" data-level="5.2.4" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#summing-up-what-is-inference"><i class="fa fa-check"></i><b>5.2.4</b> Summing Up: What is Inference?</a></li>
<li class="chapter" data-level="5.2.5" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#confidence-intervals-being-95-certain"><i class="fa fa-check"></i><b>5.2.5</b> Confidence Intervals: Being 95% Certain</a></li>
<li class="chapter" data-level="5.2.6" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#revisiting-t-tests"><i class="fa fa-check"></i><b>5.2.6</b> Revisiting t-tests</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#revisiting-the-original-questions"><i class="fa fa-check"></i><b>5.3</b> Revisiting the Original Questions</a></li>
<li class="chapter" data-level="5.4" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#r-a-simple-figure-with-two-variables"><i class="fa fa-check"></i><b>5.4</b> R: A Simple Figure With Two Variables</a></li>
<li class="chapter" data-level="5.5" data-path="why-does-hypothesis-testing-work-a-primer-on-probability.html"><a href="why-does-hypothesis-testing-work-a-primer-on-probability.html#reading-for-this-week-1"><i class="fa fa-check"></i><b>5.5</b> Reading for This Week</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="are-different-people-different.html"><a href="are-different-people-different.html"><i class="fa fa-check"></i><b>6</b> Are Different People Different?</a>
<ul>
<li class="chapter" data-level="6.1" data-path="are-different-people-different.html"><a href="are-different-people-different.html#a-recap-from-last-week"><i class="fa fa-check"></i><b>6.1</b> A Recap from Last Week</a></li>
<li class="chapter" data-level="6.2" data-path="are-different-people-different.html"><a href="are-different-people-different.html#what-are-bivariate-relationships"><i class="fa fa-check"></i><b>6.2</b> What Are Bivariate Relationships?</a></li>
<li class="chapter" data-level="6.3" data-path="are-different-people-different.html"><a href="are-different-people-different.html#categorical-data"><i class="fa fa-check"></i><b>6.3</b> Categorical Data</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="are-different-people-different.html"><a href="are-different-people-different.html#describing-the-sample"><i class="fa fa-check"></i><b>6.3.1</b> Describing the Sample</a></li>
<li class="chapter" data-level="6.3.2" data-path="are-different-people-different.html"><a href="are-different-people-different.html#estimating-the-parameters-in-the-population"><i class="fa fa-check"></i><b>6.3.2</b> Estimating the Parameters in the Population</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="are-different-people-different.html"><a href="are-different-people-different.html#continuous-data"><i class="fa fa-check"></i><b>6.4</b> Continuous Data</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="are-different-people-different.html"><a href="are-different-people-different.html#describe"><i class="fa fa-check"></i><b>6.4.1</b> Describe</a></li>
<li class="chapter" data-level="6.4.2" data-path="are-different-people-different.html"><a href="are-different-people-different.html#measures-about-the-population"><i class="fa fa-check"></i><b>6.4.2</b> Measures About the Population</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="are-different-people-different.html"><a href="are-different-people-different.html#code"><i class="fa fa-check"></i><b>6.5</b> Code</a></li>
<li class="chapter" data-level="6.6" data-path="are-different-people-different.html"><a href="are-different-people-different.html#reading-for-this-week-2"><i class="fa fa-check"></i><b>6.6</b> Reading for This Week</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html"><i class="fa fa-check"></i><b>7</b> Comparing Apples and Oranges</a>
<ul>
<li class="chapter" data-level="7.1" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#bivariate-regression"><i class="fa fa-check"></i><b>7.1</b> Bivariate Regression</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#how-does-it-work"><i class="fa fa-check"></i><b>7.1.1</b> How Does It Work?</a></li>
<li class="chapter" data-level="7.1.2" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#how-do-we-interpret-results"><i class="fa fa-check"></i><b>7.1.2</b> How Do We Interpret Results?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#beyond-bivariate-regression"><i class="fa fa-check"></i><b>7.2</b> Beyond Bivariate Regression</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#bivariate-regression-plus-a-dummy"><i class="fa fa-check"></i><b>7.2.1</b> Bivariate Regression Plus a Dummy</a></li>
<li class="chapter" data-level="7.2.2" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#multivariate-regression"><i class="fa fa-check"></i><b>7.2.2</b> Multivariate Regression</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#the-relevance-of-statistical-control"><i class="fa fa-check"></i><b>7.3</b> The Relevance of Statistical Control</a></li>
<li class="chapter" data-level="7.4" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#r-code"><i class="fa fa-check"></i><b>7.4</b> R Code</a></li>
<li class="chapter" data-level="7.5" data-path="comparing-apples-and-oranges.html"><a href="comparing-apples-and-oranges.html#reading-for-this-week-3"><i class="fa fa-check"></i><b>7.5</b> Reading for This Week</a></li>
</ul></li>
<li class="part"><span><b>Scenario III: Did the New Policy Have an Effect?</b></span></li>
<li class="chapter" data-level="8" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html"><i class="fa fa-check"></i><b>8</b> The Fundamental Problem of Causal Inference</a>
<ul>
<li class="chapter" data-level="8.1" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html#studying-causal-effects"><i class="fa fa-check"></i><b>8.1</b> Studying Causal Effects</a></li>
<li class="chapter" data-level="8.2" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html#key-concepts-1"><i class="fa fa-check"></i><b>8.2</b> Key Concepts</a></li>
<li class="chapter" data-level="8.3" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html#the-fundamental-problem-of-causal-inference-1"><i class="fa fa-check"></i><b>8.3</b> The Fundamental Problem of Causal Inference</a></li>
<li class="chapter" data-level="8.4" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html#randomized-control-trials"><i class="fa fa-check"></i><b>8.4</b> Randomized Control Trials</a></li>
<li class="chapter" data-level="8.5" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html#estimating-a-first-causal-effect"><i class="fa fa-check"></i><b>8.5</b> Estimating a First Causal Effect</a></li>
<li class="chapter" data-level="8.6" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html#plotting-data-on-maps"><i class="fa fa-check"></i><b>8.6</b> Plotting Data on Maps</a></li>
<li class="chapter" data-level="8.7" data-path="the-fundamental-problem-of-causal-inference.html"><a href="the-fundamental-problem-of-causal-inference.html#reading-for-this-week-4"><i class="fa fa-check"></i><b>8.7</b> Reading for This Week</a></li>
</ul></li>
<li class="part"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="9" data-path="useful-internet-resources.html"><a href="useful-internet-resources.html"><i class="fa fa-check"></i><b>9</b> Useful Internet Resources</a>
<ul>
<li class="chapter" data-level="9.1" data-path="useful-internet-resources.html"><a href="useful-internet-resources.html#homepages"><i class="fa fa-check"></i><b>9.1</b> Homepages</a></li>
<li class="chapter" data-level="9.2" data-path="useful-internet-resources.html"><a href="useful-internet-resources.html#online-books"><i class="fa fa-check"></i><b>9.2</b> Online Books</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">PL 9239 Introduction to Data Science for Politics and IR</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="comparing-apples-and-oranges" class="section level1" number="7">
<h1><span class="header-section-number">Chapter 7</span> Comparing Apples and Oranges</h1>
<p>All the tools that we have so far are nice and good. But there are more things that we would like to do with data. While learned how to make statements about bivariate relationships, we often want to go beyond this. In our data, we might be interested to know the relationship between how many hours you study and how often you go out per week. But it might be, that there are also other factors that drive how many hours you actually study. We could be interested to know whether drinking coffee makes any difference for example—and that irrespective of how often you go out per week. After a late night out, you might be more inclined to have coffee in the morning, so just measuring the coffee is not enough. We will have to <em>control</em> for your partyness.</p>
<p>Ideally our framework is capable of the following.</p>
<ul>
<li>Measure the strength of association between more than 3 variables in the sample, controlling for all factors.</li>
<li>Measure the strength of association between more than 3 variables in the population, controlling for all factors.</li>
<li>Measure the uncertainty we have about these association in the population.</li>
</ul>
<div id="bivariate-regression" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Bivariate Regression</h2>
<p>The framework for all that is called <em>regression analysis</em>. Let us build it up one step at a time.</p>
<p>What is regression analysis? In the literature you can find many descriptions.</p>
<ul>
<li>“Regression analysis involves making quantitative estimates of theoretical relationships between variables.”</li>
<li>“A technique which involves fitting a line to a scatter of points.”</li>
<li>“Regression represents a most typical association between two variables and can be considered analogous to the mean in univariate descriptive statistics.”</li>
<li>“Regression tries to explain changes in one variable (dependent) as a function of changes in other variables (independent).”</li>
<li>“Causality is implied.”</li>
</ul>
<p>At the end of the day, what regression does is to fit a line that is closest to all observations. Which one of the three would you pick?</p>
<p><img src="intro_data_science_homepage_files/figure-html/unnamed-chunk-120-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>We want to chose the one that fits the data best so that we can express the relationship between the variables with a simple formula.</p>
<p><span class="math display">\[ Y  = \alpha + \beta X      \]</span></p>
<p>with</p>
<ul>
<li>Y the dependent variable</li>
<li>X the explanatory variable</li>
<li><span class="math inline">\(\alpha\)</span> the intercept</li>
<li><span class="math inline">\(\beta\)</span> the slope</li>
</ul>
<p>Fitting the line is easy with well behaved data. In the figure below you can see three different intercepts <span class="math inline">\(\alpha\)</span> and we fit them to their respective data.</p>
<p><img src="intro_data_science_homepage_files/figure-html/unnamed-chunk-121-1.png" width="80%" style="display: block; margin: auto;" /></p>
<p>And here is how we could also fit different slopes <span class="math inline">\(\beta\)</span> through the data.</p>
<p><img src="intro_data_science_homepage_files/figure-html/unnamed-chunk-122-1.png" width="80%" style="display: block; margin: auto;" /></p>
<div id="how-does-it-work" class="section level3" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> How Does It Work?</h3>
<p>The big question of course is, how does this fitting work? The first thing we have to understand is that there will be an error to our estimation.</p>
<p>If an association between two variables were perfect, we would speak of a deterministic relation. Take for example the conversion of temperature. When we want to calculate the temperature in Fahrenheit from Celsius, we can follow the easy formula</p>
<p><span class="math display">\[ \text{Fahrenheit} = 32 + (9/5 ∗ \text{Celsius})\]</span>.</p>
<p>Here, <span class="math inline">\(Y\)</span> can be perfectly predicted from <span class="math inline">\(X\)</span> using an <span class="math inline">\(\alpha = 32\)</span> and a <span class="math inline">\(\beta = 9/5\)</span>.</p>
<p>In practice things often follow probabilistic relations which are inexact, so we need to account for this mistake with an error and add <span class="math inline">\(e\)</span> to the formula.</p>
<p><span class="math display">\[  Y_i = a+ b X_i + e \]</span></p>
<p>If we fit such a line, we can calculate residuals. They are the difference between the actual value of <span class="math inline">\(y_i\)</span> and the predicted value <span class="math inline">\(\hat y_i\)</span> from the regression model. In the figure, you can see the residuals as red lines.</p>
<p><span class="math display">\[y_i − \hat y = e_i\]</span></p>
<p><img src="intro_data_science_homepage_files/figure-html/unnamed-chunk-123-1.png" width="80%" style="display: block; margin: auto;" /></p>
<div id="fitting-the-line" class="section level4" number="7.1.1.1">
<h4><span class="header-section-number">7.1.1.1</span> Fitting the Line</h4>
<p>We can find <a href="https://www.youtube.com/watch?v=xlXk49Mh7go">the perfect line</a> by fitting the line with a technique called Ordinary Least Squares (OLS). We choose the line that minimises the sum of the squares of the distances between each observation and the regression line.</p>
<p><span class="math display">\[ \sum (y_i-\hat{y_i})^2 = \sum {e_i}^2 \]</span></p>
<p><span class="math inline">\(\sum {e_i}^2\)</span> is also called the Residual Sum of Squares (RSS). To fit the regression line, we minimise the RSS. This is it.</p>
<p>Implementing this routine means we minimise the distance between our observation and the predictions on the line. In the figure above, we would minimise the (squared) length of the red lines connecting the predictions in yellow and the real data in blue.</p>
<p>Using this OLS estimator, we can calculate the slope <span class="math inline">\(b\)</span>.</p>
<p><span class="math display">\[ b = \frac{\text{covariation}}{\text{variance}} = \frac{\sum (x_i-\bar{x})\sum (y_i-\bar{y})}{\sum (x_i-\bar{x})^2} \]</span></p>
<p>Give we now know the slope <span class="math inline">\(b\)</span> the intercept <span class="math inline">\(a\)</span> is then really straightforward and</p>
<p><span class="math display">\[      a = \bar{y} - b\bar{x} \]</span></p>
<p>Let us calculate the parameters for a small data set with a regression by hand.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/vOfc5VHGIWw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
<div id="inference-1" class="section level4" number="7.1.1.2">
<h4><span class="header-section-number">7.1.1.2</span> Inference</h4>
<p>We fitted a line through our sample. We now know how to guess the best fitting line through our data. What can we say about the population that is behind our sample?</p>
<p>We will proceed in a similar way as we did when we were estimating the mean for a population last week. Of course, we do not know the population parameter for the intercept <span class="math inline">\(\alpha\)</span> and the slope <span class="math inline">\(\beta\)</span> and we actually will never be able to know it unless we were to ask every single individual in the population. But given that we have a random sample, we already have a good guess. The most likely values <span class="math inline">\(\hat \alpha\)</span> and <span class="math inline">\(\hat \beta\)</span> are the ones that we can calculate using our sample, so <span class="math display">\[ \hat \alpha = a \]</span> and <span class="math display">\[ \hat \beta = b \]</span>.</p>
</div>
<div id="uncertainty" class="section level4" number="7.1.1.3">
<h4><span class="header-section-number">7.1.1.3</span> Uncertainty</h4>
<p>We also want to be realistic about the uncertainty of our estimate. Remember that we were calculating a standard error for a sample mean? And that we used it to then calculate the confidence interval around our sample mean? Back then, we used the standard deviation from our sample as the <em>best guess</em>. We will do the same for the two parameters <span class="math inline">\(\hat \alpha\)</span> and <span class="math inline">\(\hat \beta\)</span> here.</p>
<p>Let us begin with the standard error for our estimated slope <span class="math inline">\(\beta\)</span>.
<span class="math display">\[
Var(\beta_1) = \frac{\sigma^2_\epsilon }{\sum{(x_i-\bar x)^2}}
\]</span>
<span class="math display">\[
    se(\beta_1) = \frac{\sigma_\epsilon}{\sqrt{\sum{(x_i-\bar x)}^2}}
\]</span></p>
<p>This is how to calculate the uncertainty for the intercept <span class="math inline">\(\alpha\)</span>.</p>
<p><span class="math display">\[
Var(\beta_0) = \frac{\sigma^2_\epsilon \sum{x_i^2}}{n \sum{(x_i-\bar x)^2}}
\]</span>
<span class="math display">\[
se(\beta_0) = \sqrt{\frac{\sum{x_i^2}}{n \sum{(x_i-\bar x)^2}}} \sigma_\epsilon
\]</span></p>
<p>Of course, we do not know <span class="math inline">\(\sigma^2_\epsilon\)</span>. But we will use the same trick like before and take the variance of the regression residuals.</p>
<p><span class="math display">\[  \hat\sigma^2_\epsilon = \frac{\sum \epsilon_i^2}{n-p}       \]</span></p>
<p>Therefore,</p>
<p><span class="math display">\[  \hat\sigma_\epsilon = \sqrt{\frac{\sum \epsilon_i^2}{n-p}} \]</span></p>
<p>This yields the estimated standard error of the estimate—here <span class="math inline">\(\hat\beta_1\)</span>.</p>
<p><span class="math display">\[  \hat{se}(\hat\beta_1) = \frac{\hat\sigma_\epsilon}{\sqrt{\sum{(x_i-\bar x)}^2}} \]</span></p>
<p>With this estimated standard error, we can now calculate a <em>t-score</em>.</p>
<p><span class="math display">\[  t = \frac{\hat \beta}{se(\hat \beta)}     \]</span></p>
<p>This t-score is conceptually quite similar to the z-scores we already know. It expresses a parameter that is standardised using its standard error. The beauty is that we know from statistical theory how it is distributed: It follows a t-distribution. This distribution is quite similar to the normal distribution, it is also bell shaped and symmetric.</p>
<p>Given that we know its distribution, we can again calculate p-values. We interpret them in just the same way as we were interpreting them for the means in a sample—this time however with regards to the regression parameters. Assuming that the true, unknown population parameter <span class="math inline">\(\beta\)</span> is actually 0, how likely is it that we observe the estimated parameter <span class="math inline">\(\hat \beta\)</span> that we do?</p>
</div>
<div id="assumptions" class="section level4" number="7.1.1.4">
<h4><span class="header-section-number">7.1.1.4</span> Assumptions</h4>
<p>Just to mention, since we will not go into details here: We can unrol all this framework because we are making a number of assumptions about the data.</p>
<ul>
<li>The relationship between the dependent variable and the explanatory variables needs to be linear.</li>
<li>The variance of the residual error must be constant</li>
<li>The residual error must be normally distributed with a mean of 0.</li>
<li>The expected value of the residual error must not depend on the data.</li>
</ul>
</div>
</div>
<div id="how-do-we-interpret-results" class="section level3" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> How Do We Interpret Results?</h3>
<p>That was quite a bit. Let us take a look at some data to learn how to interpret results.</p>
<pre><code>## 
## Call:
## lm(formula = dat21$studyperweek ~ dat21$studyideal)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -7.842 -2.950  1.101  2.910  4.884 
## 
## Coefficients:
##                  Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)        0.5548     3.0245   0.183 0.857082    
## dat21$studyideal   0.6115     0.1410   4.338 0.000682 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 3.999 on 14 degrees of freedom
## Multiple R-squared:  0.5734, Adjusted R-squared:  0.5429 
## F-statistic: 18.82 on 1 and 14 DF,  p-value: 0.0006815</code></pre>
<p>The core idea of interpreting these results is that we can take a look at two things.</p>
<ul>
<li>What is the substantive effect? Remember that we have parameter estimates for our equation <span class="math inline">\(Y = \alpha + \beta X\)</span>.</li>
<li>In addition, there is also the uncertainty around the parameter estimates that we will have to account for.</li>
</ul>
<p>I am walking you through the interpretation via a video here.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/SgbOGUqA8iI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
</div>
<div id="beyond-bivariate-regression" class="section level2" number="7.2">
<h2><span class="header-section-number">7.2</span> Beyond Bivariate Regression</h2>
<p>But the <em>real</em> reason we are here is to go beyond bivariate regressions.</p>
<div id="bivariate-regression-plus-a-dummy" class="section level3" number="7.2.1">
<h3><span class="header-section-number">7.2.1</span> Bivariate Regression Plus a Dummy</h3>
<p>What is a dummy variable? Qualitative information often come in the form of binary information (zero-one variable). We call these kind of variables a dummy variable.
The benefit of capturing qualitative information using zero-one variables is that it leads to regression models with easy interpretations. Good coding practice: name your variable after the ‘1’ category; e.g. <em>Female</em> if the variable is coded 1 for female and 0 for male. <em>Gender</em> would be a confusing variable name.</p>
<div id="how-does-it-work-1" class="section level4" number="7.2.1.1">
<h4><span class="header-section-number">7.2.1.1</span> How Does It Work?</h4>
<p>Let us assume we examine the relationship between education and income among women and men and collect the following data.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-127"></span>
<img src="figures/w7incedu2-1.png" alt="Data for Income, Education and Gender. Note: Artifical Data." width="80%" />
<p class="caption">
Figure 7.1: Data for Income, Education and Gender. Note: Artifical Data.
</p>
</div>
<p>We want to examine the relationship between education and income among women and men. Our model will be as follows</p>
<p><span class="math display">\[Income = \beta_{0}+\beta_{1}*Education+\beta_{2}*Female \]</span></p>
</div>
<div id="how-do-we-interpret-results-1" class="section level4" number="7.2.1.2">
<h4><span class="header-section-number">7.2.1.2</span> How Do We Interpret Results?</h4>
<p>We can interpret <span class="math inline">\(beta_0\)</span> and <span class="math inline">\(beta_1\)</span> as before. But now there is also <span class="math inline">\(beta_2\)</span>. Its interpretation is fairly straightforward: it is nothing different than an intercept shift.</p>
<p>Suppose we fit the following regression model to our data:</p>
<p><span class="math display">\[ Income =  25934 +  894*Education -  3876*Female \]</span></p>
<p>We can see two regression lines, one for males and one for females. For the women we calculate
<span class="math display">\[  Income =  25934 +  894*Education -  3876*1= 22058+894*Education \]</span></p>
<p>And for the men the equation looks like follows.</p>
<p><span class="math display">\[ Income =  25934 +  894*Education -  3876*0 = 25934 +894*Education \]</span></p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-128"></span>
<img src="figures/w7incedu3-1.png" alt="Regression through the data for Income, Education and Gender. Note: Artifical Data." width="80%" />
<p class="caption">
Figure 7.2: Regression through the data for Income, Education and Gender. Note: Artifical Data.
</p>
</div>
<p>For example, we expect that a woman with 15 years of education earns earns on average.</p>
<p><span class="math display">\[ Income =  25934 +  894*15 -  3876*1 = 35468  \]</span></p>
</div>
</div>
<div id="multivariate-regression" class="section level3" number="7.2.2">
<h3><span class="header-section-number">7.2.2</span> Multivariate Regression</h3>
<p>We can of course go beyond just adding one dummy variable and one continuous variable to the regression equation—in fact you can add more than one from any variable to the regression equation. In the following example we will take a look at how that could look like.</p>
<div id="how-does-it-work-2" class="section level4" number="7.2.2.1">
<h4><span class="header-section-number">7.2.2.1</span> How Does It Work?</h4>
<p>Let us examine the relationship between economic growth prior to an election, the approval for the president and the vote share received by the incumbent presidential party in the US. This is how the data looks like.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-129"></span>
<img src="figures/w7_usplane-1.png" alt="Data on Presidential Elections in the US." width="60%" />
<p class="caption">
Figure 7.3: Data on Presidential Elections in the US.
</p>
</div>
<p>The vote share is on the vertical axis. We also have data for approval rating and for economic growth on the other two axes. Our model then becomes:</p>
<p><span class="math display">\[ \text{vote} = \beta_{0} + \beta_{1} \text{growth} + \beta_{2} \text{approval} + e \]</span></p>
<p>When we estimate regression model with two explanatory variables, we are effectively estimating the best fitting plane through the three dimensional data cloud. This works just as before: we will use the OLS estimator.</p>
</div>
<div id="how-do-we-interpret-results-2" class="section level4" number="7.2.2.2">
<h4><span class="header-section-number">7.2.2.2</span> How Do We Interpret Results?</h4>
<p>These are the results of our regression equation.</p>
<pre><code>## 
## Call:
## lm(formula = us$vote ~ us$growth + us$approval)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.4076 -1.1555 -0.8039  2.1181  4.2504 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 34.82929    2.77295  12.560 2.90e-08 ***
## us$growth    0.81459    0.27126   3.003    0.011 *  
## us$approval  0.31950    0.05603   5.702 9.88e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.644 on 12 degrees of freedom
## Multiple R-squared:  0.808,  Adjusted R-squared:  0.776 
## F-statistic: 25.25 on 2 and 12 DF,  p-value: 5.01e-05</code></pre>
<p>For the interpretation, let us visit a quick video again.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/MMvn8srQyLo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<!-- Can you make the data downloadable? -->
</div>
</div>
</div>
<div id="the-relevance-of-statistical-control" class="section level2" number="7.3">
<h2><span class="header-section-number">7.3</span> The Relevance of Statistical Control</h2>
<p>When we plot data, we usually do this in two dimensions. Any relationship between those two variables is then easy to observe. However, if more dimensions belong to the data set, things might be a bit more tricky.</p>
<p>When we analyse data, each variable that we have in our spreadsheet adds another dimension to the data overall. We already saw how this can look like in the example with the presidential elections. For the data analyst, this means that the true relationships might hide themselves in the multiple dimensions.</p>
<p>To illustrate that, here is some artificial data that I made up for you. You can see relationship between education in years and income per year.</p>
<p><img src="intro_data_science_homepage_files/figure-html/unnamed-chunk-133-1.png" width="672" /></p>
<p>The relationship seems to be fairly clear: there is a negative relationship in the data. The more you are educated, the less you earn. Substantively, this looks a bit odd, right? But if you were a naive data analyst, you might still take the data for granted. You could even run a regression on that and get a clear result.</p>
<pre><code>## 
## Call:
## lm(formula = income ~ education)
## 
## Residuals:
##    Min     1Q Median     3Q    Max 
## -33304  -7259    465   7609  26309 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  54534.1     2947.3  18.503  &lt; 2e-16 ***
## education     -910.5      275.5  -3.304  0.00113 ** 
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 11350 on 196 degrees of freedom
## Multiple R-squared:  0.05276,    Adjusted R-squared:  0.04793 
## F-statistic: 10.92 on 1 and 196 DF,  p-value: 0.001133</code></pre>
<p>Data cannot lie, right? So this the higher the education, the less you earn. This is what you would believe?</p>
<p>Let us dig a bit deeper. In our data, we also have a variable that stores the information about the gender of the individuals. Let us add this information with some colour to our data.</p>
<p><img src="intro_data_science_homepage_files/figure-html/unnamed-chunk-135-1.png" width="672" /></p>
<p>Now, the picture looks quite different. There is a clear pattern going on. First, men seem to be earning much more. In addition, there is also something standing out clearly in the data: men have less education. The multivariate regression tells us the same story.</p>
<pre><code>## 
## Call:
## lm(formula = income ~ education + male)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -22687.6  -5649.2    499.5   6086.9  19731.0 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  17211.1     3478.0   4.949 1.61e-06 ***
## education     1576.6      270.3   5.833 2.24e-08 ***
## male         21517.8     1589.0  13.541  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 8169 on 195 degrees of freedom
## Multiple R-squared:  0.5118, Adjusted R-squared:  0.5068 
## F-statistic: 102.2 on 2 and 195 DF,  p-value: &lt; 2.2e-16</code></pre>
<p>Men earn on average 21517.79 more than women—controlling for any influence from education. And for each year in education, you earn 1576.56 more—and here we take the gender of the individual into consideration.</p>
<p>Statistical control allows us to make these statements about the relationships of variables. But we not only restrict ourselves to two variables, we can account for the influence of every other variable that we have in the equation, too.</p>
</div>
<div id="r-code" class="section level2" number="7.4">
<h2><span class="header-section-number">7.4</span> R Code</h2>
<p>The R code we are learning is really simple this week. Remember, R is built for statistics, so estimating a regression is as simple as follows.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="comparing-apples-and-oranges.html#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the data</span></span>
<span id="cb147-2"><a href="comparing-apples-and-oranges.html#cb147-2" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&#39;preparing_data/data/uspresnew.Rdata&#39;</span>)</span>
<span id="cb147-3"><a href="comparing-apples-and-oranges.html#cb147-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-4"><a href="comparing-apples-and-oranges.html#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="co"># estimate a model</span></span>
<span id="cb147-5"><a href="comparing-apples-and-oranges.html#cb147-5" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(us<span class="sc">$</span>vote <span class="sc">~</span> us<span class="sc">$</span>growth <span class="sc">+</span> us<span class="sc">$</span>approval)</span>
<span id="cb147-6"><a href="comparing-apples-and-oranges.html#cb147-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-7"><a href="comparing-apples-and-oranges.html#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the results from the regression</span></span>
<span id="cb147-8"><a href="comparing-apples-and-oranges.html#cb147-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model1)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = us$vote ~ us$growth + us$approval)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -4.4076 -1.1555 -0.8039  2.1181  4.2504 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 34.82929    2.77295  12.560 2.90e-08 ***
## us$growth    0.81459    0.27126   3.003    0.011 *  
## us$approval  0.31950    0.05603   5.702 9.88e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 2.644 on 12 degrees of freedom
## Multiple R-squared:  0.808,  Adjusted R-squared:  0.776 
## F-statistic: 25.25 on 2 and 12 DF,  p-value: 5.01e-05</code></pre>
<p>If you save the model summary, you can easily extract some results for later use. For example, you could use the parameters to plot a regression line through your data—here for the bivariate case.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="comparing-apples-and-oranges.html#cb149-1" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(us<span class="sc">$</span>vote <span class="sc">~</span> us<span class="sc">$</span>approval)</span>
<span id="cb149-2"><a href="comparing-apples-and-oranges.html#cb149-2" aria-hidden="true" tabindex="-1"></a>summary.model2 <span class="ot">&lt;-</span> <span class="fu">summary</span>(model2)</span>
<span id="cb149-3"><a href="comparing-apples-and-oranges.html#cb149-3" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> summary.model2<span class="sc">$</span>coefficients[<span class="dv">1</span>]</span>
<span id="cb149-4"><a href="comparing-apples-and-oranges.html#cb149-4" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> summary.model2<span class="sc">$</span>coefficients[<span class="dv">2</span>]</span>
<span id="cb149-5"><a href="comparing-apples-and-oranges.html#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(us<span class="sc">$</span>approval, us<span class="sc">$</span>vote, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">xlab =</span> <span class="st">&#39;Approval&#39;</span>,</span>
<span id="cb149-6"><a href="comparing-apples-and-oranges.html#cb149-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&#39;Vote Share&#39;</span>, <span class="at">las =</span> <span class="dv">1</span>)</span>
<span id="cb149-7"><a href="comparing-apples-and-oranges.html#cb149-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">a=</span>a, <span class="at">b=</span>b, <span class="at">col =</span> cardiffred)</span></code></pre></div>
<p><img src="intro_data_science_homepage_files/figure-html/unnamed-chunk-138-1.png" width="672" /></p>
</div>
<div id="reading-for-this-week-3" class="section level2" number="7.5">
<h2><span class="header-section-number">7.5</span> Reading for This Week</h2>
<p>This week, please take a look at chapter 11 in <span class="citation"><a href="#ref-Fogarty2019" role="doc-biblioref">Fogarty</a> (<a href="#ref-Fogarty2019" role="doc-biblioref">2019</a>)</span>.</p>

</div>
</div>



<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Fogarty2019" class="csl-entry">
Fogarty, Brian. 2019. <em><span>Quantitative Social Science Data With R</span></em>. London: Sage.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="are-different-people-different.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="the-fundamental-problem-of-causal-inference.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["intro_data_science_homepage.pdf", "intro_data_science_homepage.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
